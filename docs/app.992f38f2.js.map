{"version":3,"sources":["../src/app.js"],"names":["timer","document","getElementById","buttons","querySelectorAll","alarm","querySelector","start","pause","countdown","time","volume","startTimer","clearInterval","display","now","then","Date","setInterval","secondsLeft","Math","round","loop","play","seconds","minutes","floor","remainderSeconds","timeLeft","title","textContent","installServiceWorkerAsync","navigator","serviceWorker","register","error","console","forEach","button","addEventListener","parseInt","dataset","window"],"mappings":";AAAA,MAAMA,EAAQC,SAASC,eAAe,SAChCC,EAAUF,SAASG,iBAAiB,aACpCC,EAAQJ,SAASK,cAAc,UAC/BC,EAAQN,SAASK,cAAc,UAC/BE,EAAQP,SAASK,cAAc,UAErC,IAAIG,EACAC,EAAO,KACX,MAAMC,EAAS,IAEf,SAASC,IACRC,cAAcJ,GACdJ,EAAMG,QACNM,EAAQJ,GAEFK,MACAC,EADMC,KAAKF,MACS,IAAPL,EAEnBD,EAAYS,YAAY,KACjBC,MAAAA,EAAcC,KAAKC,OAAOL,EAAOC,KAAKF,OAAS,KAIjDI,GAHJL,EAAQK,GACRT,EAAOS,EAEHA,GAAe,EAOX,OANPN,cAAcJ,GAEdJ,EAAMM,OAASA,EACfN,EAAMiB,MAAO,EACbjB,EAAMkB,QAEC,GAIN,KAGJ,SAAST,EAAQU,GACVC,MAAAA,EAAUL,KAAKM,MAAMF,EAAU,IAC/BG,EAAmBH,EAAU,GAE7BI,EAAcH,GAAAA,OAAAA,EACnBE,KAAAA,OAAAA,EAAmB,EAAIA,EAAuBA,IAAAA,OAAAA,IAG/C1B,SAAS4B,MAAQD,EACjB5B,EAAM8B,YAAcF,EAGrB,eAAeG,IACV,GAAA,kBAAmBC,UAClB,UACyBA,UAAUC,cAAcC,SAAS,uCAC5D,MAAOC,GACRC,QAAQD,MAA4CA,sCAAAA,OAAAA,KAKvDhC,EAAQkC,QAAQC,GACfA,EAAOC,iBAAiB,QAAS,KAChC1B,cAAcJ,GAEdK,EADAJ,EAAO8B,SAASF,EAAOG,QAAQ/B,UAKjCH,EAAMgC,iBAAiB,QAAS3B,GAEhCJ,EAAM+B,iBAAiB,QAAS,KAC/BlC,EAAMG,QACNK,cAAcJ,KAGfiC,OAAOH,iBAAiB,mBAAoB,KAC3CzB,EAAQJ,GACRqB","file":"app.992f38f2.js","sourceRoot":"..\\public","sourcesContent":["const timer = document.getElementById(\"timer\");\r\nconst buttons = document.querySelectorAll(\".btn.time\");\r\nconst alarm = document.querySelector(\"#alarm\");\r\nconst start = document.querySelector(\".start\");\r\nconst pause = document.querySelector(\".pause\");\r\n\r\nlet countdown;\r\nlet time = 1500;\r\nconst volume = 0.05;\r\n\r\nfunction startTimer() {\r\n\tclearInterval(countdown);\r\n\talarm.pause();\r\n\tdisplay(time);\r\n\r\n\tconst now = Date.now();\r\n\tconst then = now + time * 1000;\r\n\r\n\tcountdown = setInterval(() => {\r\n\t\tconst secondsLeft = Math.round((then - Date.now()) / 1000);\r\n\t\tdisplay(secondsLeft);\r\n\t\ttime = secondsLeft;\r\n\r\n\t\tif (secondsLeft <= 0) {\r\n\t\t\tclearInterval(countdown);\r\n\r\n\t\t\talarm.volume = volume;\r\n\t\t\talarm.loop = true;\r\n\t\t\talarm.play();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line no-use-before-define\r\n\t}, 1000);\r\n}\r\n\r\nfunction display(seconds) {\r\n\tconst minutes = Math.floor(seconds / 60);\r\n\tconst remainderSeconds = seconds % 60;\r\n\r\n\tconst timeLeft = `${minutes}:${\r\n\t\tremainderSeconds > 9 ? remainderSeconds : `0${remainderSeconds}`\r\n\t}`;\r\n\r\n\tdocument.title = timeLeft;\r\n\ttimer.textContent = timeLeft;\r\n}\r\n\r\nasync function installServiceWorkerAsync() {\r\n\tif (\"serviceWorker\" in navigator && process.env.NODE_ENV === \"production\") {\r\n\t\ttry {\r\n\t\t\tconst serviceWorker = await navigator.serviceWorker.register(\"./sw.js\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Failed to register service worker: ${error}`);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nbuttons.forEach(button =>\r\n\tbutton.addEventListener(\"click\", () => {\r\n\t\tclearInterval(countdown);\r\n\t\ttime = parseInt(button.dataset.time);\r\n\t\tdisplay(time);\r\n\t})\r\n);\r\n\r\nstart.addEventListener(\"click\", startTimer);\r\n\r\npause.addEventListener(\"click\", () => {\r\n\talarm.pause();\r\n\tclearInterval(countdown);\r\n});\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", () => {\r\n\tdisplay(time);\r\n\tinstallServiceWorkerAsync();\r\n});\r\n"]}
{"version":3,"sources":["../src/app.js"],"names":["countdown","timer","document","getElementById","buttons","querySelectorAll","alarm","querySelector","volume","startTimer","seconds","clearInterval","pause","display","now","then","Date","setInterval","secondsLeft","Math","round","textContent","loop","play","minutes","floor","remainderSeconds","timeLeft","title","installServiceWorkerAsync","navigator","serviceWorker","register","console","error","forEach","button","addEventListener","dataset","time","window"],"mappings":";AA+DA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,EAAA,MAAA,MAAA,GAAA,YAAA,EAAA,GAAA,EAAA,KAAA,EAAA,GAAA,QAAA,QAAA,GAAA,KAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,WAAA,IAAA,EAAA,KAAA,EAAA,UAAA,OAAA,IAAA,QAAA,SAAA,EAAA,GAAA,IAAA,EAAA,EAAA,MAAA,EAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,OAAA,GAAA,SAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,QAAA,GAAA,OAAA,MA/DA,IAIIA,EAJEC,EAAQC,SAASC,eAAe,SAChCC,EAAUF,SAASG,iBAAiB,eACpCC,EAAQJ,SAASK,cAAc,UAG/BC,EAAS,IAEf,SAASC,EAAWC,GACnBC,cAAcX,GACdM,EAAMM,QACNC,EAAQH,GAEFI,IACAC,EADMC,KAAKF,MACY,IAAVJ,EAEnBV,EAAYiB,YAAY,WACjBC,IAAAA,EAAcC,KAAKC,OAAOL,EAAOC,KAAKF,OAAS,KAIjDI,GAFJL,EAAQK,GAEJA,GAAe,EAQX,OAPPP,cAAcX,GAEdC,EAAMoB,YAAc,QACpBf,EAAME,OAASA,EACfF,EAAMgB,MAAO,EACbhB,EAAMiB,QAEC,GAIN,KAGJ,SAASV,EAAQH,GACVc,IAAAA,EAAUL,KAAKM,MAAMf,EAAU,IAC/BgB,EAAmBhB,EAAU,GAE7BiB,EAAcH,GAAAA,OAAAA,EACnBE,KAAAA,OAAAA,EAAmB,EAAIA,EAAuBA,IAAAA,OAAAA,IAG/CxB,SAAS0B,MAAQD,EACjB1B,EAAMoB,YAAcM,EAGNE,SAAAA,IAgBf,OAAA,EAAA,MAAA,KAAA,WAAA,SAAA,IAAA,OAhBA,EAAA,EAAA,mBAAA,KAAA,SAAA,IAAA,OAAA,mBAAA,KAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EACK,KAAA,kBAAmBC,WADxB,CAAA,EAAA,KAAA,GAAA,MAG+BA,OAH/B,EAAA,KAAA,EAAA,EAAA,KAAA,EAG+BA,UAAUC,cAAcC,SAAS,uCAHhE,KAAA,EAAA,EAAA,KAAA,EAAA,KAAA,GAAA,MAAA,KAAA,EAAA,EAAA,KAAA,EAAA,EAAA,GAAA,EAAA,MAAA,GAKGC,QAAQC,MAAR,sCAAA,OAAA,EAAA,KALH,KAAA,GAAA,IAAA,MAAA,OAAA,EAAA,SAAA,EAAA,KAAA,CAAA,CAAA,EAAA,SAgBA,MAAA,KAAA,WANA9B,EAAQ+B,QAAQ,SAAAC,GACfA,OAAAA,EAAOC,iBAAiB,QAAS,WAChC5B,EAAiC,GAAtB2B,EAAOE,QAAQC,UAI5BC,OAAOH,iBAAiB,OAAQ,WAC/BxB,EAA6B,GAArBZ,EAAMqC,QAAQC,MACtBV","file":"app.1f152269.js","sourceRoot":"..\\public","sourcesContent":["const timer = document.getElementById(\"timer\");\r\nconst buttons = document.querySelectorAll(\"[data-time]\");\r\nconst alarm = document.querySelector(\"#alarm\");\r\n\r\nlet countdown;\r\nconst volume = 0.05;\r\n\r\nfunction startTimer(seconds) {\r\n\tclearInterval(countdown);\r\n\talarm.pause();\r\n\tdisplay(seconds);\r\n\r\n\tconst now = Date.now();\r\n\tconst then = now + seconds * 1000;\r\n\r\n\tcountdown = setInterval(() => {\r\n\t\tconst secondsLeft = Math.round((then - Date.now()) / 1000);\r\n\t\t// Check if we should stop it!\r\n\t\tdisplay(secondsLeft);\r\n\r\n\t\tif (secondsLeft <= 0) {\r\n\t\t\tclearInterval(countdown);\r\n\r\n\t\t\ttimer.textContent = \"Reset\";\r\n\t\t\talarm.volume = volume;\r\n\t\t\talarm.loop = true;\r\n\t\t\talarm.play();\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line no-use-before-define\r\n\t}, 1000);\r\n}\r\n\r\nfunction display(seconds) {\r\n\tconst minutes = Math.floor(seconds / 60);\r\n\tconst remainderSeconds = seconds % 60;\r\n\r\n\tconst timeLeft = `${minutes}:${\r\n\t\tremainderSeconds > 9 ? remainderSeconds : `0${remainderSeconds}`\r\n\t}`;\r\n\r\n\tdocument.title = timeLeft;\r\n\ttimer.textContent = timeLeft;\r\n}\r\n\r\nasync function installServiceWorkerAsync() {\r\n\tif (\"serviceWorker\" in navigator) {\r\n\t\ttry {\r\n\t\t\tconst serviceWorker = await navigator.serviceWorker.register(\"./sw.js\");\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(`Failed to register service worker: ${error}`);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nbuttons.forEach(button =>\r\n\tbutton.addEventListener(\"click\", () => {\r\n\t\tstartTimer(button.dataset.time * 60);\r\n\t})\r\n);\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n\tdisplay(timer.dataset.time * 60);\r\n\tinstallServiceWorkerAsync();\r\n});\r\n"]}